<p class="wrap" [innerHTML]="message.message.data | link" *ngIf="message.message.isText"></p>
<p *ngIf="message.message.isImage">
    <button type="button" *ngIf="user.isSecret && !message.dispforce" class="btn btn-default btn-xs btn-block"
        (click)="message.dispforce=true;" [title]="message.message.title">
        <span class="glyphicon glyphicon-chevron-up"></span>
    </button>
    <button type="button" *ngIf="user.isSecret && message.dispforce"
        class="btn btn-default btn-xs btn-block margin-bottom-5" (click)="message.dispforce=false;">
        <span class="glyphicon glyphicon-chevron-down"></span>
    </button>
    <a [href]="materials" target="_blank" *ngIf="!user.isSecret || message.dispforce">
        <img [src]="materials" [title]="message.message.title" style="max-width:100%;" />
    </a>
</p>
<p *ngIf="message.message.isVideo">
    <button type="button" *ngIf="user.isSecret && !message.dispforce" class="btn btn-default btn-xs btn-block"
        (click)="message.dispforce=true;" [title]="message.message.title">
        <span class="glyphicon glyphicon-chevron-up"></span>
    </button>
    <button type="button" *ngIf="user.isSecret && message.dispforce"
        class="btn btn-default btn-xs btn-block margin-bottom-5" (click)="message.dispforce=false;">
        <span class="glyphicon glyphicon-chevron-down"></span>
    </button>
    <video [src]="materials" [title]="message.message.title"  *ngIf="!user.isSecret || message.dispforce"
        style="max-width:100%;" preload="metadata" controls></video>
</p>
<p *ngIf="message.message.isFile">
    <a [href]="materials" [download]="message.message.title">
        {{message.message.title}}
    </a>
</p>
<p *ngIf="message.message.isUnread">
    {{message.message.data}}
</p>
<p class="text-right text-muted" *ngIf="!message.message.isUnread">
    <small>
        {{message.user.fullname}}
        ({{message.time | date:"medium"}})
    </small>
</p>
